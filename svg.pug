doctype xml
svg(xmlns="http://www.w3.org/2000/svg"
    xmlns:xlink="http://www.w3.org/1999/xlink"
    version="1.1"
    height="235"
    width="360")
  metadata(xmlns:set='https://github.com/hildjj/set-game')
    set:num= num
    set:fill= fill
    set:color= color
    set:shape= shape
  defs
    case color
      when 'purple'
        - color_code = '#d499ff'
      when 'green'
        - color_code = '#75d23b'
      when 'red'
        - color_code = '#ff99d5'
    case fill
      when 'Hatched'
        pattern(id="hatch" width="5" height="3" patternUnits="userSpaceOnUse")
          line(x1="0" y1="0" x2="10" y2="0" stroke-width="2" class='setcolor')
        - fill = 'url(#hatch)'
      when 'Solid'
        - fill = color_code
      when 'Open'
        - fill = 'white'
    case shape
      when 'Squiggle'
        path(id="shape" class="setcolor setline"
             d="m 180,33 c -13,6 -23,11 -28,26 -5,15 -1,31 7,58 7,23 0,36 -3,43 -4,7 -9,17 -9,30 0,13 21,18 33,12 11,-5 23,-14 28,-26 5,-12 1,-32 -7,-59 -5,-17 -3,-29 3,-42 4,-9 10,-18 9,-30 0,-13 -18,-19 -33,-12 z")
      when 'Diamond'
        polygon(id="shape" class="setcolor setline"
                points="180,30 145,117 180,205 215,117")
      when 'Pill'
        rect(id="shape" class="setcolor setline"
             x="145" y="30"
             width="70" height="175"
             ry="35")
    style(type="text/css").
      .setcolor {
        stroke: #{color_code};
        fill: #{fill};
      }
      .setline {
        stroke-width: 4;
        stroke-linejoin: round;
      }
  rect( x="5"
        y="5"
        height="225"
        width="350"
        rx="10"
        ry="10"
        fill="white"
        stroke="grey"
        stroke-width="2")
  case num
    when 1
      use(xlink:href="#shape")
    when 2
      use(x="-50" xlink:href="#shape")
      use(x="50" xlink:href="#shape")
    when 3
      use(x="-100" xlink:href="#shape")
      use(xlink:href="#shape")
      use(x="100" xlink:href="#shape")
